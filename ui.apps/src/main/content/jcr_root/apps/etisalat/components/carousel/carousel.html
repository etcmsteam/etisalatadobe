<div data-sly-use.carousel="com.adobe.cq.wcm.core.components.models.Carousel"
     data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
     data-sly-use.controlsTemplate="controls.html"
     data-panelcontainer="${wcmmode.edit && 'carousel'}"
     id="${carousel.id}"
     class="cmp-carousel ${properties.carouselswiper && properties.carouselswiper == 'true' ? 'swiper-enabled' : '' }"
     data-sly-set.defaultLayout="${!properties.carouselLayout || properties.carouselLayout == 'default'}"
     data-sly-test="${defaultLayout || (properties.carouselLayout == 'etisalat-hero-banner' &&  wcmmode.edit)}"
     role="group"
     aria-label="${carousel.accessibilityLabel}"
     aria-live="polite"
     aria-roledescription="carousel"
     data-cmp-is="carousel"
     data-cmp-autoplay="${(wcmmode.edit || wcmmode.preview) ? '' : carousel.autoplay}"
     data-cmp-delay="${carousel.delay}"
     data-cmp-autopause-disabled="${carousel.autopauseDisabled}"
     data-cmp-data-layer="${carousel.data.json}"
     data-placeholder-text="${wcmmode.edit && 'Please add Carousel components here' @ i18n}">
    <sly data-sly-call="${controlsTemplate.controls @ carousel=carousel}" data-sly-test="${carousel.controlsPrepended}"></sly>

    <div data-sly-test="${carousel.items && carousel.items.size > 0}"
         class="cmp-carousel__content"
         aria-atomic="false"
         aria-live="${carousel.autoplay ? 'off' : 'polite'}">
            <div data-sly-repeat.item="${carousel.items}"
                 data-sly-resource="${item.name @ decorationTagName='div'}"
                 id="${item.id}-tabpanel"
                 class="cmp-carousel__item${itemList.first ? ' cmp-carousel__item--active' : ''}"
                 role="tabpanel"
                 aria-labelledby="${item.id}-tab"
                 aria-roledescription="slide"
                 aria-label="${'Slide {0} of {1}' @ format=[itemList.count, carousel.items.size], i18n}"
                 data-cmp-data-layer="${item.data.json}"
                 data-cmp-hook-carousel="item"></div>
        <sly data-sly-call="${controlsTemplate.controls @ carousel=carousel}" data-sly-test="${!carousel.controlsPrepended}"></sly>

        <ol class="cmp-carousel__indicators"
            role="tablist"
            aria-label="${'Choose a slide to display' @ i18n}"
            data-cmp-hook-carousel="indicators">
            <li data-sly-repeat.item="${carousel.items}"
                id="${item.id}-tab"
                class="cmp-carousel__indicator${itemList.first ? ' cmp-carousel__indicator--active' : ''}"
                role="tab"
                aria-controls="${item.id}-tabpanel"
                aria-label="${'Slide {0}' @ format=[itemList.count], i18n}"
                data-cmp-hook-carousel="indicator">${item.title}</li>
        </ol>
    </div>

    <sly data-sly-resource="${resource.path @ resourceType='wcm/foundation/components/parsys/newpar', appendPath='/*', decorationTagName='div', cssClassName='new section aem-Grid-newComponent'}"
         data-sly-test="${(wcmmode.edit || wcmmode.preview) && carousel.items.size < 1}">
     </sly>
</div>

<sly data-sly-set.bannerVariation="${properties.heroBannerVariation ? properties.heroBannerVariation : 'herobanner-wst'}" />
<sly data-sly-set.bannerPlaceholderVariation="${bannerVariation == 'herobanner-wst' ? 'cmp-herobanner-placeholder' : 'cmp-hero-images-placeholder'}" />
<div
    data-component="${bannerVariation == 'herobanner-wst' ? 'cmp-herobanner' : 'cmp-hero-images'}"
    class="${!wcmmode.edit ? 'dynamic-module-placeholder' : 'd-none'} ${!wcmmode.edit ? bannerPlaceholderVariation : ''} ${bannerVariation} ${properties.heroImagesVariation} ${bannerVariation == 'herobanner-wst' ? '' : 'hero-images-variation'}"></div>


<sly data-sly-test="${properties.carouselLayout == 'etisalat-hero-banner' && (wcmmode.preview || wcmmode.disabled)}">
  <!--/* variation for herobanner 4.0 */-->
  <sly data-sly-test="${bannerVariation == 'herobanner-wst'}"
       data-sly-use.heroBannerTemplate="etisalat-herobanner.html"
       data-sly-call="${heroBannerTemplate.hero @ carousel=carousel,properties=properties}"/>

  <!--/* variations for hero-images */-->
   <sly data-sly-test="${properties.heroBannerVariation == 'hero-images' &&
        (properties.heroImagesVariation == 'iframe-banner' || properties.heroImagesVariation == 'links-banner')}"
        data-sly-use.heroBannerTemplate="etisalat-heroimages.html"
       data-sly-call="${heroBannerTemplate.heroIframe @ carousel=carousel,properties=properties}"/>
   <sly data-sly-test="${properties.heroBannerVariation == 'hero-images' && properties.heroImagesVariation == 'call-to-action-banner'}"
        data-sly-use.heroBannerTemplate="hero-image-variations/hero-images-cta.html"
       data-sly-call="${heroBannerTemplate.heroCTA @ carousel=carousel,properties=properties}"/>

   <sly data-sly-test="${properties.heroBannerVariation == 'hero-images' && properties.heroImagesVariation == 'medium-banner'}"
        data-sly-use.heroBannerTemplate="hero-image-variations/heroimages-medium-banner.html"
       data-sly-call="${heroBannerTemplate.mediumBanner @ carousel=carousel,properties=properties}"/>

   <sly data-sly-test="${properties.heroBannerVariation == 'hero-images' && (properties.heroImagesVariation == 'block-chain-ends' ||
         properties.heroImagesVariation == 'banner-page-navigation')}"
        data-sly-use.heroBannerTemplate="hero-image-variations/heroimages-block-chain-end.html"
       data-sly-call="${heroBannerTemplate.blockChain @ carousel=carousel,properties=properties}"/>
</sly>