<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html">
   <sly data-sly-test.customLink="${properties.cardLink}" data-sly-use.commonlinkmodel="${'com.etisalat.core.models.CommonLinkModel' @link=customLink}"/>
   <sly data-sly-test="${properties.viewPortLayout == '3-viewport'}">
      <sly data-sly-set.viewports = "${properties['image414px/fileReference'] || properties['image768px/fileReference'] || properties['image992px/fileReference']}" />
   </sly>
   <sly data-sly-test="${properties.viewPortLayout == '4-viewport'}">
      <sly data-sly-set.viewports = "${properties['image414px/fileReference'] || properties['image540px/fileReference'] || properties['image768px/fileReference'] || properties['image1440px/fileReference']}" />
   </sly>
   <sly data-sly-test="${properties.viewPortLayout == '6-viewport'}">
      <sly data-sly-set.viewports = "${properties['image414px/fileReference'] || properties['image768px/fileReference'] || properties['image1024px/fileReference'] || properties['image1366px/fileReference'] || properties['image1440px/fileReference'] || properties['image1920px/fileReference']}" />
   </sly>
   <div class="caremal-card-wrapper ${properties.caremalPromoTilevariation}">
   <div class="caremal-card-image">
      <div class="cover">
         <sly data-sly-test="${viewports}"
            data-sly-resource="${resource @ resourceType='etisalat/components/imageetisalatviewport'}"></sly>
      </div>
   </div>
   <div class="caremal-card-details">
   <div data-sly-test="${properties.caremalpromopretitle}" class="sub-title">
      <p>${properties.caremalpromopretitle}</p>
   </div>
   <div data-sly-test="${properties.caremalpromotitle}" class="title">
      <h3 data-sly-element="${properties.titleType}">${properties.caremalpromotitle}</h3>
   </div>
   <div data-sly-test="${properties.jcr:description}" class="description">
      <p>${properties.jcr:description @context='html'}</p>
      <div data-sly-test="${properties.cardLink}" class="learn-more-wrap">
         <a href="${commonlinkmodel.link}" target="${properties.linkBehavior == 'opennewwindow'?'_blank':'_self'}" class="btn-text btn-green learn-more">
         ${properties.promoCTATitle}
         </a>
      </div>
   </div>
</sly>
<sly data-sly-test=${wcmmode.edit} data-sly-call="${templates.placeholder @ isEmpty = !properties.caremalPromoTilevariation}"></sly>