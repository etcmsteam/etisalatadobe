<template data-sly-template.CommonTheme="${ @ properties}">

   <sly data-sly-test.fileReference="${properties.fileReference}" />
   <div data-sly-use.component="com.adobe.cq.wcm.core.components.models.Component" 
      class="read-more-${properties.offerText ? 'red' : 'green'}-btn_bg">
      <div class="tile-table ${properties.fileReference ? 'product-home-card' : 'plan-card'} offer ">
         <div class="tile-card effect__click">
            
		      <sly data-sly-test.cardLink="${properties.cardLink}" data-sly-use.cardlinkmodel="${'com.etisalat.core.models.CommonLinkModel' @link=cardLink}"/>
            <div class="tile">
               <div class="tile-card__front">
                  <div class="tiles-box content body-standard">
                     <div class="tiles-box-title" data-sly-test="${!properties.fileReference}">
                        <div data-sly-test="${properties.offerText}"
                           class="special-offer">${properties.offerText}</div>
                        <div class="catagory" data-sly-test="${properties.productTitle}">${properties.productTitle}</div>
                        <h2 data-sly-test="${properties.productSubTitle}"><span class="strikethrough" data-sly-test="${properties.wasproductSubTitle}">${properties.wasproductSubTitle}</span>${properties.productSubTitle}</h2>
                     </div>
                     <div class="product" data-sly-test="${properties.fileReference}">
                        <sly data-sly-resource="${carousel @ resourceType='core/wcm/components/image/v2/image', wcmmode='disabled'}"/>
                        <div class="tiles-box-title">
                           <div data-sly-test="${properties.offerText}"
                              class="special-offer">${properties.offerText}</div>
                           <div class="catagory" data-sly-test="${properties.productTitle}">${properties.productTitle}</div>
                           <h2 data-sly-test="${properties.productSubTitle}">${properties.productSubTitle}</h2>
                        </div>
                     </div>
                     <div class="tiles-box-list">
                        <div data-sly-test="${properties.progressBar}" class="internet-config-container">
                           <div data-sly-test="${properties.packageTitle}" class="internet-text dark-gray">${properties.packageTitle}</div>
                           <div class="internet-config">
                              <div data-sly-test="${properties.speedUnits}" class="internet-config-title">${properties.speedUnits}</div>
                              <div class="interner-config-progressbar">
                                 <img src="${properties.progressBar}" alt="${properties.packageTitle}" class="interner-config-image">
                              </div>
                              <div data-sly-test="${properties.packageDesc}" class="interner-config-desc">${properties.packageDesc}</div>
                           </div>
                           <div data-sly-test="${properties.dividerLine}" class="internet-config-divider-line"></div>
                        </div>
                        <ul class="featureList ${properties.enableEllipsis ? 'ellipsisEnabled' : ''}">
                           <li>
                              <ul data-sly-test="${properties.productDesc}">${properties.productDesc @ context="html"}
                              </ul>
                           </li>
                           <li data-sly-test="${properties.channelLabel}">
                              <div class="view-channel-list">
                                 <a data-sly-test="${properties.viewChannelLinkBehavior != 'openmodalwindow' && properties.channelLink}" href="${properties.channelLink @ extension = 'html'}" target="${properties.viewChannelLinkBehavior == 'opensamewindow' ? '_self' : '_blank'}"><em class="channel-list-icon"></em>${properties.channelLabel}</a>
                                 <a data-sly-test="${properties.viewChannelLinkBehavior == 'openmodalwindow' && !properties.moreInfoLabel && !properties.seeAllLabel}" data-label="${properties.fragmentVariationPath ? component.id : ''}" class="btn-modal" title="${properties.channelLabel}"><span class="channel-list-icon"></span>${properties.channelLabel}</a>
                              </div>
                           </li>
                        </ul>
                        <a data-label="${component.id}" class="btn-text btn-green  learn-more btn-modal "
                           title="${properties.seeAllLabel}" data-sly-test="${properties.seeAllLabel}">
                           <span class="moreg">${properties.seeAllLabel}</span>
                        </a>
                        <a href="${cardlinkmodel.link}" target="${properties.cardtarget ? '_blank' : '_self'}">
                           <span class="${properties.offerText ? 'tiles-box-list__contractDuration tiles-box-list__contractDuration--orange' : 'tiles-box-list__contractDuration'}"  data-sly-test="${properties.commitmentText}">${properties.commitmentText}</span>
                           <sly data-sly-use.productTileObj="${resource.path}" data-sly-list.tileIconItems="${productTileObj.listChildren}">
                              <div data-sly-test="${tileIconItems.name == 'iconItems'}" data-sly-list.iconItem="${tileIconItems.listChildren}" class="apolo-awards-icon-wrapper">
                                       <sly data-sly-list.imageRes="${iconItem.listChildren}">
                                          <div data-sly-test="${imageRes.fileReference}" class="icon"><img src="${imageRes.fileReference}"></div>
                                 </sly>
                              </div>
                           </sly>
                        </a>
                        <div class="detail-info-wrap detail-info-wrap-pricetag">
                           <div class="detail-price-new">
                              <div class="main-part" data-sly-test="${properties.productPrice}">
                                 <div data-sly-test="${properties.contractText}" dir="ltr" class="from">${properties.contractText}</div>
                                 <div dir="ltr" class="price" >
                                    ${properties.productPrice}
                                 </div>
                                 <small data-sly-test="${properties.productCurrency}">${properties.productCurrency}<sly data-sly-test="${properties.frequency}">/${properties.frequency}</sly></small>
                              </div>
                           </div>
                        </div>
                        <p class="bottom-text"><span class="${properties.offerText ? 'old-price--orange' : 'old-price'}" data-sly-test="${properties.productOldPrice}">was  <span class="strikethrough">${properties.productOldPrice} ${properties.productCurrency}</span></span>
                           ${properties.vatInclude}
                        </p>
                        <a data-label="${properties.fragmentVariationPath ? component.id : ''}" class="btn-text btn-green  learn-more btn-modal text-center"
                           title="${properties.moreInfoLabel}" data-sly-test="${properties.moreInfoLabel && !properties.seeAllLabel}">
                        <span class="moreg">${properties.moreInfoLabel}</span>
                        </a>
                        <div data-sly-test="${properties.fragmentVariationPath}" class="offers-popup-wrapper">
                           <div id="${component.id}" class="nv-modal fade  ${properties.modalBehavior}-modal">
                              <div class="nv-modal-dialog">
                                 <div class="nv-modal-content nv-py-5">
                                    <div class="container">
                                       <div class="modal-popup">
                                          <span class="nv-modal-close">
                                             <!-- svg to be applied by css on nv-modal-close class -->
                                             <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22px" height="22px" viewBox="0 0 22 22" version="1.1" class="replaced-svg">
                                                <g id="eLife-Flows---Desktop" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
                                                   <g id="dd_eLifeConfig-1.0.7" transform="translate(-1297.000000, -629.000000)" stroke="#242424">
                                                      <g id="verifyEligibility" transform="translate(0.000000, 576.000000)">
                                                         <g id="title" transform="translate(609.000000, 40.000000)">
                                                            <g id="closeIcon" transform="translate(675.000000, 0.000000)">
                                                               <g id="Close-icon-Icon/Outline-1pt/close/close_black" transform="translate(12.000000, 12.000000)">
                                                                  <line x1="22.5" y1="1.5" x2="1.5" y2="22.5" id="Line"></line>
                                                                  <line x1="22.5" y1="22.5" x2="1.5" y2="1.5" id="Line"></line>
                                                               </g>
                                                            </g>
                                                         </g>
                                                      </g>
                                                   </g>
                                                </g>
                                             </svg>
                                          </span>
                                          <sly
                                             data-sly-resource="${resource @ resourceType='core/wcm/components/experiencefragment/v1/experiencefragment', wcmmode='disabled'}">
                                          </sly>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="smile-points ${properties.contractColor}" data-sly-test="${properties.contract}">
                        <span data-sly-test="${properties.contractAlignment == 'center'}">
                           <div class="center">${properties.contract}</div>
                        </span>
                        <span data-sly-test="${!properties.contractAlignment || properties.contractAlignment == 'left'}">
                           ${properties.contract}
                        </span>
                     </div>
                     <div 
                        class="read-more select-product-from-grid select-product-from-grid-without-close link"
                        data-extra-container=".extra-options-02">
                     <sly data-sly-test.buttonLink="${properties.buttonLink}" class ="" data-sly-use.buttonlinkmodel="${'com.etisalat.core.models.CommonLinkModel' @link=buttonLink}"/>
                           <sly data-sly-test.loggedinbuttonLink="${properties.loggedinbuttonLink}" class ="" data-sly-use.loggedinbuttonlinkmodel="${'com.etisalat.core.models.CommonLinkModel' @link=loggedinbuttonLink}"/>
                  <a
                           href="${cardlinkmodel.link ? cardlinkmodel.link : buttonlinkmodel.link}" target="${properties.btnlinktarget?'_blank':'_self'}"
                           class="cms-button read-more-link" title="${properties.productSubTitle}"> 
                     <span data-sly-test="${properties.buyNowButton}">${properties.buyNowButton}</span>
                        </a> 
                        
                        <a
                           href="${cardlinkmodel.link ? cardlinkmodel.link : loggedinbuttonlinkmodel.link}" target="${properties.loggedinbtnlinktarget?'_blank':'_self'}"
                           class="b2b-button read-more-link" title="${properties.productSubTitle}"> 
                     <span data-sly-test="${properties.loggedinbuyNowButton}">${properties.loggedinbuyNowButton}</span>
                        </a> 
                     </div>
                  </div>
               </div>
               <a href="${cardlinkmodel.link}" target="${properties.cardtarget ? '_blank' : '_self'}" class="tile-wrap-link"></a>
            </div>
         </div>
      </div>
   </div>
</template>